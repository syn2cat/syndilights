Blinkenlights Chaos Control Center
----------------------------------

If you have no clue what Blinkenlights is, take a look at
http://www.blinkenlights.de/ first.

This is a rewrite of the master control program for Blinkenlights. Our
first implementation used to be a GTK+ application that allowed
previewing of movies and run-time modification of the playlist using a
graphical user interface. It turned out that we need a way to control
the Blinkenlights remotely, so this new implementation runs as a
daemon controllable via telnet connections. We started to use this
software for the Blinkenlights installation at the end of September
2001.

Some parts of the code could definitely be redone better but keep in
mind that this software evolved over time since we kept on adding new
features while the Blinkenlights installation was already running
every night from dusk till dawn. Actually we kept the software running
all the time and just switched off power from the relais during the
days. So this software has prooven to work reliable over a couple of
months.


How to compile:

You need glib-2.0 available from ftp://ftp.gtk.org/pub/gtk/v2.0/.
Once you have glib-2.0 installed, the usual 

  ./configure; make; make install

should do the trick.


How to use:

Create a directory with blinkenlights movies. You can download some
from http://www.blinkenlights.de/gallery/. Next, create a playlist of
your favorite movies and call it playlist.default. The playlist format
is simple: just add a line with a relative pathname for each movie you
want to play. The examples directory contains some movies and a
playlist to get you started.

Start blccc in the examples directory:

 blccc localhost

blccc looks for the file playlist.default in the current directory and
starts to play the playlist. It now sends UDP packets to localhost (or
whatever host you specified on the command-line). You can connect to
blccc using telnet. It listens on port 2323 on the local interface.
Type 'telnet localhost 2323' and it should welcome you. Try the 'help'
command to get an idea of what is possible. You can use netcat (nc) to
send commands to blccc so that you can control the installation from
scripts or cronjobs.

Now it's time to start blinkensim to visualize the stream of UDP 
packets:

 blinkensim


blccc also listens for UDP packets on port 4242. This packets are
generated by the blinkenisdn daemon (not part of this package) and
describe the state of the isdn lines. If one of the telephone lines
goes off-hook, the pong game is started. The game is controlled thru
dial tones. The special sequence *<digits># starts the movie
<digits>.blm from the on-demand directory. This is how the Loveletters
feature was implemented. As soon as all telephone lines are on-hook
again, blccc continues to play movies from the playlist.


Have Blinkenfun,
	Sven  <sven@gimp.org>
